(this["webpackJsonpla-tiendita"]=this["webpackJsonpla-tiendita"]||[]).push([[0],{146:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(9),c=n.n(r),s=n(25),o=n(11),l=n(15),d=n.n(l),u=n(24),p=n(82),h=n(43),m=n(44),j=n(52),b=n(51),g=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/djbaqvlnn/upload",(n=new FormData).append("upload_preset","peticiones-geeks"),n.append("file",t),e.prev=4,e.next=7,fetch("https://api.cloudinary.com/v1_1/djbaqvlnn/upload",{method:"POST",body:n});case 7:if(!(a=e.sent).ok){e.next=15;break}return e.next=11,a.json();case 11:return i=e.sent,e.abrupt("return",i.secure_url);case 15:return e.next=17,a.json();case 17:throw e.sent;case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(4),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),x=g,f=n(33),O=n.n(f),v=n(83),w=n.n(v),k=n(84),C=n.n(k),N=(n(55),n(2)),y=C()(w.a),S=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleDelete=function(t){y.fire({title:"Est\xe1s seguro? ",text:"Esta acci\xf3n es irrevertible !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"Si, eliminalo"}).then((function(n){n.isConfirmed&&e.props.deleteProduct(t)}))},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"div_card",children:[Object(N.jsx)("div",{style:{backgroundImage:"url(".concat(this.props.img,")")},className:"card",children:Object(N.jsxs)("div",{className:"div-button",children:[Object(N.jsx)("button",{className:"activeBtnEdit",id:this.props.id,onClick:function(){return e.props.editOnForm(e.props.id)},children:Object(N.jsx)("i",{className:"fas fa-edit"})}),Object(N.jsx)("button",{className:"activeBtnDelete button",onClick:function(){return e.handleDelete(e.props.id)},id:this.props.id,children:Object(N.jsx)("i",{className:"fas fa-trash"})})]})}),Object(N.jsxs)("p",{className:"name",children:[" ",this.props.name," "]})]})}}]),n}(i.a.Component),P=S,B=n(200),F=n(191);var A=function(e){return Object(N.jsxs)("form",{onSubmit:e.handleSubmit,method:"POST",className:"form",children:[Object(N.jsx)(B.a,{className:"input",variant:"outlined",name:"name",onChange:e.handleChange,value:e.name,label:"Nombre",maxLength:"30",size:"small",mb:"20rem",required:!0}),Object(N.jsx)(B.a,{className:"input",variant:"outlined",type:"number",name:"price",onChange:e.handleChange,value:e.price,label:"Precio",min:"0",max:"1000000",step:"0.050",size:"small",required:!0}),Object(N.jsx)(B.a,{className:"input",variant:"outlined",name:"tipo",onChange:e.handleChange,value:e.tipo,label:"Tipo",maxLength:"30",size:"small",required:!0}),Object(N.jsx)(B.a,{className:"input",variant:"outlined",type:"file",accept:"Image/*",name:"img",onChange:e.handleFileChange,size:"small"}),Object(N.jsx)(B.a,{className:"input",variant:"outlined",name:"description",onChange:e.handleChange,value:e.description,label:"Descripci\xf3n",rows:3,multiline:!0,required:!0}),Object(N.jsx)(F.a,{variant:"contained",color:"secondary",type:"submit",children:" Hecho"})]})},T=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.getProducts().then((function(e){a.setState({productsList:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.state.isEditOn?a.editProduct():a.state.img?a.addProduct():alert("Debes cargar una imagen")},a.handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleFileChange=function(e){a.setState({img:e.target.files[0]})},a.getProducts=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://latienditaworkshop.herokuapp.com/products");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),a.getProduct=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://latienditaworkshop.herokuapp.com/products/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.editProduct=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.img){e.next=6;break}return e.next=3,x(a.state.img);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=a.state.urlImg;case 7:t=e.t0,console.log(t),n={nombre:a.state.name,precio_kilo:a.state.price,descripcion:a.state.description,tipo:a.state.tipo,photo:t},O.a.put("https://latienditaworkshop.herokuapp.com/products/".concat(a.state.id),n),a.resetForm();case 12:case"end":return e.stop()}}),e)}))),a.addProduct=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(a.state.img);case 2:return t=e.sent,n={nombre:a.state.name,precio_kilo:a.state.price,descripcion:a.state.description,tipo:a.state.tipo,photo:t},e.next=6,O.a.post("https://latienditaworkshop.herokuapp.com/products",n);case 6:a.resetForm();case 7:case"end":return e.stop()}}),e)}))),a.deleteProduct=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.delete("https://latienditaworkshop.herokuapp.com/products/".concat(t)).then((function(){return window.location.assign("crud")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.editOnForm=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getProduct(t).then((function(e){a.setState({isEditOn:!0,id:t,name:e.nombre,price:e.precio_kilo,description:e.descripcion,tipo:e.tipo,img:null,urlImg:e.photo})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.resetForm=function(){a.setState((function(e){return{isEditOn:!1,id:-1,name:"",price:"",description:"",tipo:"",img:null,recargar:!e.recargar,urlImg:null}}))},a.state={isEditOn:!1,id:-1,name:"",price:"",description:"",img:null,tipo:"",urlImg:null,recargar:!1,productsList:[]},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.state.productsList;return Object(N.jsxs)("div",{className:"div",children:[Object(N.jsx)(s.b,{to:"/",className:"Link"}),Object(N.jsx)("div",{className:"products-div",children:t.map((function(t){return Object(N.jsx)(P,{id:t.id,name:t.nombre,price:t.precio_kilo,img:t.photo,description:t.descripcion,editOnForm:e.editOnForm,deleteProduct:e.deleteProduct},t.id)}))}),Object(N.jsx)(A,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleFileChange:this.handleFileChange,name:this.state.name,price:this.state.price,tipo:this.state.tipo,description:this.state.description,img:this.state.urlImg})]})}}]),n}(i.a.Component),z=T;n(146);var I,_=function(){return Object(N.jsx)("div",{className:"otherDiv",children:Object(N.jsxs)("p",{className:"p",children:["Esta p\xe1gina no existe. ",Object(N.jsx)(s.b,{exact:!0,to:"/",children:" Volver "})]})})},D=n(195),E=n(193),q=n(194),L=n(196),R=n(192),G=Object(R.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{font:"700 normal 1.37rem/1rem var(--poppins)",flexGrow:1,fontSize:"1.5em",color:"#fc462d",fontWeight:"bold"},AppBarBackg:{background:"#0AC763"},Button:{fontSize:"1.1em",color:"white"}}})),M=function(){var e=G();return Object(N.jsx)("div",{className:e.root,children:Object(N.jsx)(E.a,{position:"static",className:e.AppBarBackg,children:Object(N.jsxs)(q.a,{children:[Object(N.jsx)(D.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"}),Object(N.jsx)(L.a,{variant:"h6",className:e.title,children:"La Tiendita"}),Object(N.jsx)(F.a,{color:"inherit",className:e.Button,children:Object(N.jsx)(s.b,{to:"/crud",children:"Carrito"})})]})})})},J=n(39),W=n(94),K=n(197),$=n(198),H=n(199),V=Object(R.a)((function(e){return{root:{maxWidth:250,marginTop:"20px",marginRight:"20px",marginBottom:"20px",fontFamily:"Poppins"},media:{height:0,paddingTop:"56.25%",cursor:"pointer"},contenedor:{display:"flex",justifyContent:"center"},precio:{fontSize:"1.2em",textAlign:"center"},button:{background:"#0AC763",fontSize:"0.7em",fontWeight:"bold",width:"100%","&:hover":{backgroundColor:"#0AC763"}},modal:{position:"absolute",width:600,backgroundColor:"white",borderRadius:"4px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",fontFamily:"Poppins",outline:"none"},titleModal:{fontFamily:"Poppins"},iva:{fontSize:"12px",marginTop:"-20px"},divCont:{display:"flex"},divDesc:{marginLeft:"20px"},input:{marginRight:"20px",width:"50px",height:"30px"},imgCon:{marginTop:"20px"},imgClose:{position:"absolute",right:"30px",borderRadius:"50%",cursor:"pointer"},btnAgregar:{backgroundColor:"#0AC763"}}})),Q=n(201),U=function(e){var t=e.list,n=e.set,i=e.get,r=t.name,c=t.initialPrice,s=t.photo,o=t.id,l=t.description,d=t.gramos,u=t.finalGramos,p=t.finalPrice,h=V();Object(a.useEffect)((function(){localStorage.setItem("carrito",JSON.stringify(i))}),[i]);var m=Object(a.useState)(!1),j=Object(J.a)(m,2),b=j[0],g=j[1],x=function(){g(!b)},f=Object(N.jsxs)("div",{className:h.modal,children:[Object(N.jsxs)("div",{className:h.divCont,children:[Object(N.jsx)("div",{children:Object(N.jsx)("img",{className:h.imgCon,src:s,alt:r,width:"200px",height:"200px"})}),Object(N.jsxs)("div",{className:h.divDesc,children:[Object(N.jsx)("h2",{className:h.titleModal,children:t.name}),Object(N.jsxs)("h3",{children:["$",c,"/KG"]}),Object(N.jsx)("p",{className:h.iva,children:"Precios con iva incluidos"}),Object(N.jsx)("p",{children:l}),Object(N.jsxs)("div",{align:"right",children:[Object(N.jsx)("input",{className:h.input,type:"number",id:"cant",min:"1"}),Object(N.jsx)(F.a,{variant:"contained",className:h.btnAgregar,onClick:function(){var e=Number(document.querySelector("#cant").value);n([].concat(Object(W.a)(i),[{name:r,cantidad:e,photo:s,precio:c,gramos:d,gramosFinal:u,precioFinal:p}]))},children:"Agregar"})]})]})]}),Object(N.jsx)("img",{className:h.imgClose,onClick:x,src:"https://res.cloudinary.com/djbaqvlnn/image/upload/v1639208748/tiendita/cancel_ujlvyc.png",alt:""})]});return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(K.a,{id:"1",className:h.root,onClick:function(e){x()},children:[Object(N.jsx)($.a,{id:o,className:h.media,image:s,title:r}),Object(N.jsx)(H.a,{className:h.contenedor,children:Object(N.jsxs)(L.a,{className:h.precio,children:["Precio: $",c,"/Kg"]})}),Object(N.jsx)(H.a,{className:h.contenedor,children:Object(N.jsx)(F.a,{className:h.button,children:"Agregar"})})]}),Object(N.jsx)(Q.a,{open:b,children:f})]})},X=function(){var e=Object(a.useState)([]),t=Object(J.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),c=Object(J.a)(r,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){fetch("https://frontend-geeks.herokuapp.com/allProducts").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:n.map((function(e){return Object(N.jsx)(U,{list:e,set:o,get:s},e.id)}))})},Y=n(90),Z=n.n(Y),ee=n(93),te=n(21).default.div(I||(I=Object(ee.a)(["\n  margin-top: 50px;\n"]))),ne=function(){return Object(N.jsxs)(Z.a,{slidesToShow:3,center:!0,breakpoints:[{size:1e3,settings:{slidesToShow:1,showArrows:!0,showIndicator:!0,swipeable:!0}},{size:600,settings:{slidesToShow:3,showArrows:!0,showIndicator:!0,swipeable:!0}},{size:1e3,settings:{slidesToShow:4,showArrows:!0,showIndicator:!0,center:!0,swipeable:!0}}],children:[Object(N.jsx)(te,{children:Object(N.jsx)("img",{src:"https://res.cloudinary.com/dpkaiokho/image/upload/v1631644712/latiendita/Banner_lx8b9a.png",alt:"Banner"})}),Object(N.jsx)(te,{children:Object(N.jsx)("img",{src:"https://res.cloudinary.com/yhonamc/image/upload/v1631644538/banner_hdntmg.png",alt:"Banner2"})})]})},ae=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)(M,{}),Object(N.jsx)(ne,{}),Object(N.jsx)(X,{})]})};var ie=function(){return Object(N.jsx)(s.a,{children:Object(N.jsxs)(o.c,{children:[Object(N.jsx)(o.a,{exact:!0,path:"/",component:ae}),Object(N.jsx)(o.a,{exact:!0,path:"/crud",component:z}),Object(N.jsx)(o.a,{path:"*",component:_})]})})};n(155);c.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)(ie,{})}),document.getElementById("root"))},55:function(e,t,n){}},[[156,1,2]]]);
//# sourceMappingURL=main.f5eceb83.chunk.js.map